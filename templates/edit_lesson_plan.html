{% extends "educator_base.html" %}

{% block content %}
<div class="plans-container">
    <div class="plan-section">
        <!-- Header with Back Icon, Title and Create Button -->
        <div class="plans-header">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <a href="{{ url_for('educator_courses') }}" class="back-icon-btn" title="Back to Courses">
                    <img src="{{ url_for('static', filename='icons/icons8-back-sf-black-32.png') }}" alt="Back" style="width: 32px; height: 32px; display: block;">
                </a>
                <h2>Lesson Plans</h2>
            </div>
            <a href="{{ url_for('add_lesson_plan', course_id=course.id) }}" class="add-btn">
                + Create Lesson Plan
            </a>
        </div>

        <!-- Course Name Banner -->
        <div class="course-name-banner">
            <h3>{{ course.course_name }}</h3>
        </div>

        <!-- Lesson Plans Grid -->
        <div class="plans-grid">
            {% if lesson_plans %}
                {% for plan in lesson_plans %}
                <div class="plan-card">
                    <div class="plan-card-top">
                        <h4>{{ plan.title }}</h4>
                        <span class="plan-date">{{ plan.created_at.strftime('%b %d, %Y') }}</span>
                    </div>

                    <p class="plan-topic">
                        <strong>Topic:</strong> {{ plan.topic or 'Not specified' }}
                    </p>

                    <div class="plan-actions">
                        <a href="{{ url_for('view_lesson_plan', plan_id=plan.id) }}" class="btn-view">
                            View Details
                        </a>
                        <a href="{{ url_for('edit_lesson_plan', plan_id=plan.id) }}" class="btn-edit">
                            Edit
                        </a>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="empty-state">
                    <p>No lesson plans yet. Create your first one!</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}