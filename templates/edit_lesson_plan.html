{% extends "educator_base.html" %}

{% block content %}
<!-- Edit Lesson Plan Wrapper -->
<div class="edit-lesson-wrapper-new">
    <!-- Header Section -->
    <div class="edit-lesson-header-new">
        <h1 class="edit-lesson-title-new">Edit Lesson Plan</h1>
        <p class="edit-lesson-subtitle-new">Update your lesson plan details</p>
    </div>

    <!-- Main Card -->
    <div class="edit-lesson-card-new">
        <form method="POST" enctype="multipart/form-data" class="edit-lesson-form-new">
            {{ form.hidden_tag() }}

            <!-- Two Column Layout -->
            <div class="edit-lesson-form-columns">

                <!-- LEFT COLUMN -->
                <div class="edit-lesson-left-column">

                    <!-- Lesson Title -->
                    <div class="edit-lesson-form-group-new">
                        <label class="edit-lesson-label-new">{{ form.title.label.text }}</label>
                        <span class="edit-lesson-helper-new">Main title for this lesson</span>
                        {{ form.title(class="form-input-new", placeholder="e.g., Introduction to Variables") }}
                        {% if form.title.errors %}
                            <small class="error">{{ form.title.errors[0] }}</small>
                        {% endif %}
                    </div>

                    <!-- Topic -->
                    <div class="edit-lesson-form-group-new">
                        <label class="edit-lesson-label-new">{{ form.topic.label.text }}</label>
                        <span class="edit-lesson-helper-new">Specific topic covered in this lesson</span>
                        {{ form.topic(class="form-input-new", placeholder="e.g., Data Types and Variables") }}
                        {% if form.topic.errors %}
                            <small class="error">{{ form.topic.errors[0] }}</small>
                        {% endif %}
                    </div>

                    <!-- Learning Objectives -->
                    <div class="edit-lesson-form-group-new edit-lesson-objectives-group">
                        <label class="edit-lesson-label-new">{{ form.objectives.label.text }}</label>
                        <span class="edit-lesson-helper-new">What students will learn from this lesson</span>
                        {{ form.objectives(class="form-input-new form-textarea-new", rows="5", placeholder="Students will be able to...") }}
                        {% if form.objectives.errors %}
                            <small class="error">{{ form.objectives.errors[0] }}</small>
                        {% endif %}
                    </div>

                </div>

                <!-- RIGHT COLUMN -->
                <div class="edit-lesson-right-column">

                    <!-- Lesson Description -->
                    <div class="edit-lesson-form-group-new edit-lesson-description-group">
                        <label class="edit-lesson-label-new">{{ form.description.label.text }}</label>
                        <span class="edit-lesson-helper-new">Detailed explanation of the lesson content</span>
                        {{ form.description(class="form-input-new form-textarea-new", rows="6", placeholder="Describe the lesson flow, activities, and key points to cover...") }}
                        {% if form.description.errors %}
                            <small class="error">{{ form.description.errors[0] }}</small>
                        {% endif %}
                    </div>

                    <!-- Current Materials Section -->
                    <div class="edit-lesson-form-group-new">
                        <label class="edit-lesson-label-new">Current Materials</label>
                        <div class="current-materials-box-new">
                            {% if plan.materials %}
                                <ul class="current-materials-list-new">
                                    {% for material in plan.materials %}
                                    <li class="current-material-item-new">
                                        <span class="material-icon-new">ðŸ“„</span>
                                        <span class="material-name-new">{{ material.filename }}</span>
                                    </li>
                                    {% endfor %}
                                </ul>
                            {% else %}
                                <p class="no-materials-new">No materials yet</p>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Add Materials -->
                    <div class="edit-lesson-form-group-new">
                        <label class="edit-lesson-label-new">{{ form.materials.label.text }}</label>
                        {{ form.materials(class="form-input-new") }}
                        <span class="edit-lesson-helper-new">Upload additional materials (existing ones will be kept)</span>
                        {% if form.materials.errors %}
                            <small class="error">{{ form.materials.errors[0] }}</small>
                        {% endif %}
                    </div>

                    <!-- Best Practices Info Box -->
                    <div class="edit-lesson-info-box">
                        <div class="info-icon">ðŸ’¡</div>
                        <div>
                            <div class="info-title">Best Practices</div>
                            <div class="info-text">
                                â€¢ Include clear, measurable objectives<br>
                                â€¢ Break down complex topics<br>
                                â€¢ Add relevant materials and examples
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Action Buttons -->
            <div class="edit-lesson-actions-new">
                <a href="{{ url_for('view_lesson_plan', plan_id=plan.id) }}" class="cancel-btn-new">Cancel</a>
                {{ form.submit(class="submit-btn-new", value="Save Lesson Plan") }}
            </div>

        </form>
    </div>
</div>
{% endblock %}