{% extends "educator_base.html" %}

{% block content %}
<div class="edit-course-wrapper">
    <div class="edit-course-card">

        <h2 class="form-title">Edit Course</h2>

        <form method="POST" class="edit-form">
            {{ form.hidden_tag() }}

            <div class="form-group">
                {{ form.course_name.label }}
                {{ form.course_name(class="form-input") }}
                {% if form.course_name.errors %}
                    <small class="error">{{ form.course_name.errors[0] }}</small>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form.course_code.label }}
                {{ form.course_code(class="form-input") }}
                {% if form.course_code.errors %}
                    <small class="error">{{ form.course_code.errors[0] }}</small>
                {% endif %}
            </div>

            <div class="form-group">
                {{ form.description.label }}
                {{ form.description(class="form-input", rows="5") }}
                {% if form.description.errors %}
                    <small class="error">{{ form.description.errors[0] }}</small>
                {% endif %}
            </div>

            <div class="form-buttons">
                <button type="submit" class="save-course-btn">Save Course</button>
                <a href="{{ url_for('educator_courses') }}" class="cancel-btn">Cancel</a>
            </div>

        </form>

        <div class="danger-zone">
            <h3>Danger Zone</h3>
            <p>Once you delete a course, there is no going back. This will permanently delete all lesson plans, materials, attendance records, and student enrollments.</p>
            <form method="POST" action="{{ url_for('delete_course', course_id=course.id) }}"
                  onsubmit="return confirm('⚠️ WARNING: Delete Course?\n\nThis will permanently delete:\n• All lesson plans\n• All learning materials\n• All attendance records\n• All student enrollments\n\nThis action CANNOT be undone!\n\nAre you absolutely sure?');">
                <button type="submit" class="delete-btn">Delete Course</button>
            </form>
        </div>

    </div>
</div>
{% endblock %}