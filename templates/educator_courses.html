{% extends "educator_base.html" %}

{% block content %}
<div class="courses-container">
    <div class="courses-section">
        <div class="section-header">
            <h1>Courses</h1>
            <a href="{{ url_for('add_course') }}" class="add-course-btn">+ Add New Course</a>
        </div>

        <div class="courses-grid">
            {% if courses %}
                {% for course in courses %}
                <div class="course-card">
                    <div class="card-header">
                        <h3>{{ course.course_name }}</h3>
                        <span class="course-code">{{ course.course_code }}</span>
                    </div>

                    <p class="educator">
                        <i data-lucide="user"></i>
                        {{ course.block_section }}
                    </p>

                    <div class="stats-row">
                        <span class="stat">
                            <i data-lucide="book-open"></i>
                            {{ course.lesson_plans|length }} Lessons
                        </span>
                        <span class="stat">
                            <i data-lucide="users"></i>
                            {{ course.enrollments|length }} Students
                        </span>
                    </div>

                    <div class="actions">
                        <a href="{{ url_for('course_lesson_plans', course_id=course.id) }}" class="btn-outline">
                            <i data-lucide="book-open"></i>
                            Lesson Plans
                        </a>
                        <a href="{{ url_for('course_attendance', course_id=course.id) }}" class="btn-outline">
                            <i data-lucide="check-circle"></i>
                            Attendance
                        </a>
                        <a href="{{ url_for('attendance_history', course_id=course.id) }}" class="btn-outline">
                            <i data-lucide="history"></i>
                            History
                        </a>
                        <a href="{{ url_for('manage_enrollments', course_id=course.id) }}" class="btn-outline">
                            <i data-lucide="user-plus"></i>
                            Enrollments
                        </a>
                        <a href="{{ url_for('edit_course', course_id=course.id) }}" class="btn-outline edit-btn">
                            <i data-lucide="edit"></i>
                            Edit
                        </a>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="empty-state">
                    <div class="empty-icon">ðŸ“š</div>
                    <h3>No Courses Yet</h3>
                    <p>You haven't created any courses yet.</p>
                    <p class="hint">Click the "+ Add New Course" button above to get started!</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>
<!-- For the icons -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  if (window.lucide) {
    lucide.createIcons();
  }
});
</script>
{% endblock %}