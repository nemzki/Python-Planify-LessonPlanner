{% extends "base.html" %}

{% block title %}Student Dashboard{% endblock %}

{% block content %}
<div class="student-dashboard">
    <div class="welcome-section">
        <h1>Welcome, {{ current_user.first_name }}! ğŸ‘‹</h1>
        <p>Access your courses, lesson plans, and learning materials</p>
    </div>

    <div class="quick-access">
        <a href="{{ url_for('student_courses') }}" class="quick-link courses-link">
            ğŸ“š <span>My Courses</span>
        </a>
        <a href="{{ url_for('student_join_course') }}" class="quick-link join-link">
            â• <span>Join Course</span>
        </a>
    </div>

    <div class="enrolled-courses">
        <div class="courses-header-section">
            <h2>My Enrolled Courses</h2>
        </div>

        {% if courses %}
            <div class="courses-list">
                {% for course in courses %}
                <div class="course-item">
                    <div class="course-item-header">
                        <h3>{{ course.course_name }}</h3>
                        <span class="course-badge">{{ course.course_code }}</span>
                    </div>

                    <p class="course-educator">
                        ğŸ‘¨â€ğŸ« {{ course.educator.first_name }} {{ course.educator.last_name }}
                    </p>

                    <p class="course-desc">Block: {{ course.block_section }}</p>

                    <div class="course-stats">
                        <span>ğŸ“– {{ course.lesson_plans|length }} Lessons</span>
                        <span>ğŸ“ {{ course.lesson_plans | map(attribute='materials') | map('length') | sum }} Materials</span>
                    </div>

                    <div class="course-actions">
                        <a href="{{ url_for('student_course_lessons', course_id=course.id) }}" class="action-link">
                            View Lessons
                        </a>
                        <a href="{{ url_for('student_course_materials', course_id=course.id) }}" class="action-link materials">
                            View Materials
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state">
                <p>ğŸ“š You are not enrolled in any courses yet.</p>
                <p class="hint">Click "Join Course" above and enter your course code!</p>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}